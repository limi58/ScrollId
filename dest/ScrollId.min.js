/**
 * ScrollId
 * 2015/7/12
 * link      : https://github.com/limi58/ScrollId
 * copyright : limi58 , http://www.imbgf.com
 */
"use strict";!function(t){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,n,e,i,a){return jQuery.easing[jQuery.easing.def](t,n,e,i,a)},easeInQuad:function(t,n,e,i,a){return i*(n/=a)*n+e},easeOutQuad:function(t,n,e,i,a){return-i*(n/=a)*(n-2)+e},easeInOutQuad:function(t,n,e,i,a){return(n/=a/2)<1?i/2*n*n+e:-i/2*(--n*(n-2)-1)+e},easeInCubic:function(t,n,e,i,a){return i*(n/=a)*n*n+e},easeOutCubic:function(t,n,e,i,a){return i*((n=n/a-1)*n*n+1)+e},easeInOutCubic:function(t,n,e,i,a){return(n/=a/2)<1?i/2*n*n*n+e:i/2*((n-=2)*n*n+2)+e},easeInQuart:function(t,n,e,i,a){return i*(n/=a)*n*n*n+e},easeOutQuart:function(t,n,e,i,a){return-i*((n=n/a-1)*n*n*n-1)+e},easeInOutQuart:function(t,n,e,i,a){return(n/=a/2)<1?i/2*n*n*n*n+e:-i/2*((n-=2)*n*n*n-2)+e},easeInQuint:function(t,n,e,i,a){return i*(n/=a)*n*n*n*n+e},easeOutQuint:function(t,n,e,i,a){return i*((n=n/a-1)*n*n*n*n+1)+e},easeInOutQuint:function(t,n,e,i,a){return(n/=a/2)<1?i/2*n*n*n*n*n+e:i/2*((n-=2)*n*n*n*n+2)+e},easeInSine:function(t,n,e,i,a){return-i*Math.cos(n/a*(Math.PI/2))+i+e},easeOutSine:function(t,n,e,i,a){return i*Math.sin(n/a*(Math.PI/2))+e},easeInOutSine:function(t,n,e,i,a){return-i/2*(Math.cos(Math.PI*n/a)-1)+e},easeInExpo:function(t,n,e,i,a){return 0==n?e:i*Math.pow(2,10*(n/a-1))+e},easeOutExpo:function(t,n,e,i,a){return n==a?e+i:i*(-Math.pow(2,-10*n/a)+1)+e},easeInOutExpo:function(t,n,e,i,a){return 0==n?e:n==a?e+i:(n/=a/2)<1?i/2*Math.pow(2,10*(n-1))+e:i/2*(-Math.pow(2,-10*--n)+2)+e},easeInCirc:function(t,n,e,i,a){return-i*(Math.sqrt(1-(n/=a)*n)-1)+e},easeOutCirc:function(t,n,e,i,a){return i*Math.sqrt(1-(n=n/a-1)*n)+e},easeInOutCirc:function(t,n,e,i,a){return(n/=a/2)<1?-i/2*(Math.sqrt(1-n*n)-1)+e:i/2*(Math.sqrt(1-(n-=2)*n)+1)+e},easeInElastic:function(t,n,e,i,a){var s=1.70158,r=0,u=i;if(0==n)return e;if(1==(n/=a))return e+i;if(r||(r=.3*a),u<Math.abs(i)){u=i;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(i/u);return-(u*Math.pow(2,10*(n-=1))*Math.sin(2*(n*a-s)*Math.PI/r))+e},easeOutElastic:function(t,n,e,i,a){var s=1.70158,r=0,u=i;if(0==n)return e;if(1==(n/=a))return e+i;if(r||(r=.3*a),u<Math.abs(i)){u=i;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(i/u);return u*Math.pow(2,-10*n)*Math.sin(2*(n*a-s)*Math.PI/r)+i+e},easeInOutElastic:function(t,n,e,i,a){var s=1.70158,r=0,u=i;if(0==n)return e;if(2==(n/=a/2))return e+i;if(r||(r=.3*a*1.5),u<Math.abs(i)){u=i;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(i/u);return 1>n?-.5*u*Math.pow(2,10*(n-=1))*Math.sin(2*(n*a-s)*Math.PI/r)+e:u*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*a-s)*Math.PI/r)*.5+i+e},easeInBack:function(t,n,e,i,a,s){return void 0==s&&(s=1.70158),i*(n/=a)*n*((s+1)*n-s)+e},easeOutBack:function(t,n,e,i,a,s){return void 0==s&&(s=1.70158),i*((n=n/a-1)*n*((s+1)*n+s)+1)+e},easeInOutBack:function(t,n,e,i,a,s){return void 0==s&&(s=1.70158),(n/=a/2)<1?i/2*n*n*(((s*=1.525)+1)*n-s)+e:i/2*((n-=2)*n*(((s*=1.525)+1)*n+s)+2)+e},easeInBounce:function(t,n,e,i,a){return i-jQuery.easing.easeOutBounce(t,a-n,0,i,a)+e},easeOutBounce:function(t,n,e,i,a){return(n/=a)<1/2.75?7.5625*i*n*n+e:2/2.75>n?i*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?i*(7.5625*(n-=2.25/2.75)*n+.9375)+e:i*(7.5625*(n-=2.625/2.75)*n+.984375)+e},easeInOutBounce:function(t,n,e,i,a){return a/2>n?.5*jQuery.easing.easeInBounce(t,2*n,0,i,a)+e:.5*jQuery.easing.easeOutBounce(t,2*n-a,0,i,a)+.5*i+e}});var n=function(t,n){};n.prototype={config:function(t,n){this.idInfoObj=t,this.scrollInfoObj=n||{},this.speed=this.scrollInfoObj.speed||"slow",this.ease=this.scrollInfoObj.ease||"easeInOutQuint",this.isLoop=this.scrollInfoObj.isLoop||!0,this.interval=this.scrollInfoObj.interval||250,this.isTouch=this.scrollInfoObj.isTouch||!1,this.idInfoObjLength=this.getIdInfoObjLength(),this.firstId=this.getFirstId(),this.currentHash="",this.targetHash=""},run:function(){if(this.setInit(),this.isTouch){window.addEventListener("touchmove",function(t){t.preventDefault()});var t=new Hammer(document.getElementsByTagName("body")[0]);t.on("pandown panup",function(t){switch(t.type){case"panup":this.setHashByScroll(!1);break;case"pandown":this.setHashByScroll(!0)}}.bind(this))}window.addEventListener("hashchange",function(t){t.preventDefault();var n=location.hash.replace("#!",""),e=this.idInfoObj[n].top,i=this.targetHash,a=this.currentHash;$("html,body").stop();try{this.idInfoObj[a].beforeFun()}catch(t){}$("body,html").animate({scrollTop:e},this.speed,this.ease,this.idInfoObj[i].afterFun)}.bind(this)),window.addEventListener("DOMMouseScroll",function(t){t.preventDefault(),this.setHashByScroll(t.detail<0?!0:!1)}.bind(this)),window.addEventListener("mousewheel",function(t){t.preventDefault(),this.setHashByScroll(t.wheelDelta>0?!0:!1)}.bind(this))},getIdInfoObjLength:function(){var t=0;for(var n in this.idInfoObj)t++;return t},getFirstId:function(){var t=0,n="";for(var e in this.idInfoObj){if(0!=t)break;n=e,t++}return n},setInit:function(){var t=0;for(var n in this.idInfoObj){var e="#"+n;this.idInfoObj[n].top=parseFloat($(e).position().top).toFixed(1),this.idInfoObj[n].alias=t,t++}},setHashByScroll:function(t){if(!$("html,body").is(":animated")){this.currentHash=location.hash.replace("#!","")||this.firstId;var n=this.idInfoObj[this.currentHash].alias,e=0;t?(e=n-1,0>e&&this.isLoop&&(e=this.idInfoObjLength-1)):(e=n+1,e>=this.idInfoObjLength&&(e=0));for(var i in this.idInfoObj)if(this.idInfoObj[i].alias==e){this.targetHash=i;break}location.hash="#!"+this.targetHash}},delay:function(t,n){var e=this.interval*n;setTimeout(t,e)}},window[t]=n}("ScrollId");